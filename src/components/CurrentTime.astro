<style>
  @keyframes clock-tick {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
  }
  
  .clock-icon {
    animation: clock-tick 2s ease-in-out infinite;
  }
</style>

<div class="animate">
  <div class="group inline-flex items-center gap-1.5 px-2.5 py-1.5 bg-transparent rounded-full text-xs font-medium transition-colors duration-200 whitespace-nowrap">
    <div class="flex items-center gap-1">
      <!-- Clock icon -->
      <div class="w-3 h-3 border-2 border-blue-500 rounded-full clock-icon relative">
        <div class="absolute top-0.5 left-1/2 w-0.5 h-1 bg-blue-500 rounded-full transform -translate-x-1/2 origin-bottom"></div>
        <div class="absolute top-1 left-1/2 w-0.5 h-0.5 bg-blue-500 rounded-full transform -translate-x-1/2"></div>
      </div>
      <span class="text-gray-700 dark:text-gray-300" id="current-time">Loading...</span>
    </div>
  </div>
</div>

<script>
  function updateTime() {
    const now = new Date();
    const timeString = now.toLocaleTimeString('en-US', { 
      hour: '2-digit', 
      minute: '2-digit',
      hour12: true 
    });
    
    const timeElement = document.getElementById('current-time');
    if (timeElement) {
      timeElement.textContent = timeString;
    }
  }
  
      // Update time immediately and then every second
      updateTime();
      
      // Notify floating bar that time component is ready
      setTimeout(() => {
        if (window.showFloatingBar) {
          window.showFloatingBar();
        }
      }, 100);
      
      setInterval(updateTime, 1000);
  
  // Update when page becomes visible
  document.addEventListener('visibilitychange', () => {
    if (!document.hidden) {
      updateTime();
    }
  });
</script>
